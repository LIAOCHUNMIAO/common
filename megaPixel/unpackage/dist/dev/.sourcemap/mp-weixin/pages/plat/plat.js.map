{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/stevenMiao/commoon/common/megaPixel/pages/plat/plat.vue?3e09","webpack:///C:/Users/Administrator/Desktop/stevenMiao/commoon/common/megaPixel/pages/plat/plat.vue?540a","webpack:///C:/Users/Administrator/Desktop/stevenMiao/commoon/common/megaPixel/pages/plat/plat.vue?9c41","webpack:///C:/Users/Administrator/Desktop/stevenMiao/commoon/common/megaPixel/pages/plat/plat.vue?6329","uni-app:///pages/plat/plat.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","id","title","latitude","longitude","markers","width","height","iconPath","created","onLoad","computed","methods","init","handleAuthorize","uni","success","auth","scope","_this","fail","console","err","content","showCancel","confirmText","then","userLocation","getMyLocal","type"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AAC+K;AAC/K,gBAAgB,wLAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,0MAEN;AACP,KAAK;AACL;AACA,aAAa,oMAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAgpB,CAAgB,qqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACYpqB;AAAA,eACA;EACA;EACA;EACAC;IACA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC,UACA;QACAJ;QACAE;QACAC;QACAE;QACAC;QACAC;MACA,GACA;QACAP;QACAE;QACAC;QACAE;QACAC;QACAC;MACA;IAGA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAIA;EACAC;IACA;EACA;EACAC,+BAGA;EACAC;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACAC;QACAC;UACA;YACA;UACA;YACA;UACA;QACA;MAAA;IACA;IACAC;MACA;MACAF;QACAG;QAAA;QACAF;UACAG;QACA;QACA;QACAC;UACAC;UACAC;UACAP;YACAb;YAAAqB;YACAC;YACAC;UACA;UACA;UAAA,CACAC;YAEA;YACA;cAAA;cACA;cACA;cACA;;cAEAX;gBACAG;kBACAS;gBACA;gBACAX;kBACA;oBACAG;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;IAEAS;MACA;MACAb;QACAc;QAAA;QACAb;UACA;UACA;UACA;YACAf;YACAE;YACAC;YACAE;YACAC;YACAC;UACA;UACAW;UACAE;UACAA;QACA;MACA;IACA;EACA;AACA;AAAA,2B","file":"pages/plat/plat.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/plat/plat.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./plat.vue?vue&type=template&id=142aab34&\"\nvar renderjs\nimport script from \"./plat.vue?vue&type=script&lang=js&\"\nexport * from \"./plat.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/plat/plat.vue\"\nexport default component.exports","export * from \"-!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./plat.vue?vue&type=template&id=142aab34&\"","var components\ntry {\n  components = {\n    commNavbar: function () {\n      return import(\n        /* webpackChunkName: \"components/comm-navbar/comm-navbar\" */ \"@/components/comm-navbar/comm-navbar.vue\"\n      )\n    },\n    commEmpty: function () {\n      return import(\n        /* webpackChunkName: \"components/comm-empty/comm-empty\" */ \"@/components/comm-empty/comm-empty.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./plat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./plat.vue?vue&type=script&lang=js&\"","<template>\n  <view>\n    <comm-navbar title=\"地图\"/>\n    <comm-empty/>\n    <view >\n    <map style=\"width: 100%; height: 94vh;\" :latitude=\"latitude\" :longitude=\"longitude\" :markers=\"markers\">\n    </map>\n    </view>\n  </view>\n</template>\n\n<script>\n// import QQMapWX from '@/static/map-sdk/qqmap-wx-jssdk.min.js'\nexport default {\n   // {QQMapWX} from '../../qqmap-wx-jssdk.js'\n  // var QQMapWX = require('../../qqmap-wx-jssdk.js');\n  data() {\n    return {\n      id: 0, // 使用 marker点击事件 需要填写id\n      title: 'map',\n      latitude: getApp().globalData.config.latitude,\n      longitude: getApp().globalData.config.longitude,\n      markers: [\n          {\n        id: 1,\n        latitude: 22.815478,\n        longitude: 108.327546,\n        width:40,\n        height:40,\n        iconPath: '/static/images/common/pink_position.png'\n        },\n        {\n          id: 2,\n          latitude: 23.132191,\n          longitude: 113.266530,\n          width:40,\n          height:40,\n          iconPath: '/static/images/common/pink_position.png'\n        }\n      ]\n\n    }\n  },\n  created() {\n    const _this_ = this\n    // let sys = getApp().globalData.config.systemInfo.windowHeight\n    // console.log(sys)\n    // var qqmapsdk = new QQMapWX({\n    //   key: 'R4RBZ-LBXCB-36SU5-JFBAW-KM4BO-VNBBX' // 必填，填自己在腾讯位置服务申请的key\n    // });\n    // //新增\n    // qqmapsdk.reverseGeocoder({\n    //   //位置坐标，默认获取当前位置，非必须参数\n    //   //Object格式\n    //   location: {\n    //     latitude: _this_.latitude,\n    //     longitude: _this_.longitude\n    //   },\n    //   success: function(res) {//成功后的回调\n    //     console.log(1)\n    //     console.log(res)\n    //   },\n    //   fail: function(error) {\n    //     console.log(2)\n    //     console.error(error);\n    //   },\n    //   complete: function(res) {\n    //     console.log(3)\n    //     console.log(res);\n    //   }\n    // })\n\n\n\n  },\n  onLoad() {\n  \tthis.init()\n  },\n  computed(){\n\n\n  },\n  methods: {\n    init(){\n      this.handleAuthorize()\n      //this.getMyLocal()\n    },\n    handleAuthorize() {\n      uni.getSetting({\n        success: res=> {\n          if (!res.authSetting['scope.userLocation']){\n            this.auth()\n          }else {\n            this.getMyLocal()\n          }\n        }})\n    },\n    auth(){\n      const _this = this // 下边this 为undefined\n      uni.authorize({\n        scope: 'scope.userLocation', // 获取地理信息必填的参数，其它参数见文档\n        success(){\n          _this.getMyLocal()\n        },\n        // 授权失败\n        fail(err) {\n          console.log(err)\n          err = err['errMsg']\n          uni.showModal({\n            title: '温馨提示',content: '百万像素小程序需要获取你的位置，请授权!',\n            showCancel: false,\n            confirmText: '确认授权'\n          })\n              // 这里只设置了确认按钮，没有取消按钮\n          .then(res => {\n\n                //res ： [null, {cancel: false, confirm: true, errMsg: 'showModal: ok'}]\n                if(res['confirm']) { // 点击了确认按钮时\n                  // 调用下边方法时，会弹出 【使用我的地理位置】界面， 未设置直接返回，还是会走fail授权失败的函数，\n                  // 还是会弹出上边的温馨提示！！！\n                  // 如果设置, scope.userLocation: true\n\n                  uni.openSetting({\n                    scope:{\n                      userLocation: true\n                    },\n                    success:res=> {\n                      if (res.authSetting['scope.userLocation']){\n                        _this.getMyLocal()\n                      }\n                      // 如果不设置，res结果：\n                      // {errMsg: \"openSetting:ok\", authSetting: {scope.userLocation: false}}\n                      // 如果设置, res结果：\n                      // {errMsg: \"openSetting:ok\", authSetting: {scope.userLocation: true}}\n                      // console.log('小程序设置界面：', res)\n                    }\n                  })\n                }\n              })\n        }\n      })\n    },\n\n    getMyLocal(){\n      let _this = this\n      uni.getLocation({\n        type: 'gcj02', // wgs84  gcj02\n        success:function(res){\n          // _this.latitude = res.latitude\n          // _this.longitude = res.latitude\n          let my = {\n            id: 3,\n            latitude: res.latitude,\n            longitude: res.longitude,\n            width:40,\n            height:40,\n            iconPath: '/static/images/common/myLocation.png'\n            }\n          _this.markers.push(my)\n            console.log(res.longitude);\n            console.log(res.latitude);\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}